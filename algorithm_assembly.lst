


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             project, CODE, READONLY
    2 00000000         
    3 00000000                 EXPORT           MAIN        ;NEEDED LINE
    4 00000000                 ENTRY                        ;SHOWS WHEN THE COD
                                                            E STARTS
    5 00000000         
    6 00000000         
    7 00000000         MAIN                                 ;USED AS LABEL
    8 00000000         ;; Variable (Register) Definition
    9 00000000 F04F 0000       MOV              R0,#0       ;LINE COUNTER(LINES
                                                             ARE DEFINED AT THE
                                                             END)
   10 00000004 F04F 0100       MOV              R1,#0       ;COLUMN COUNTER
   11 00000008 F04F 0400       MOV              R4,#0       ;OVERALL COUNTER(GO
                                                            ES UNTILL 15*15 - 1
                                                            )
   12 0000000C F04F 5500       MOV              R5,#0x20000000 ;STACK POINTER
   13 00000010 A63B            ADR              R6,LINE1    ;ARRAY START POINTE
                                                            R
   14 00000012 F04F 0800       MOV              R8,#0       ;TEMPORARY REGISTER
                                                             FOR WIEGHT MULTIPL
                                                            ICATIONS
   15 00000016 F04F 0900       MOV              R9,#0       ;TEMPORARY REGISTER
                                                             FOR WIEGHT MULTIPL
                                                            ICATIONS
   16 0000001A F04F 0A00       MOV              R10,#0      ;TEMPORAY FOR LOAD
   17 0000001E         
   18 0000001E F104 0401 
                       LOOP    ADD              R4,R4,#1
   19 00000022 F5B4 7F80       CMP              R4,#256
   20 00000026 D047            BEQ              EOF         ;BRANCH TO EOF
   21 00000028 F04F 0700       MOV              R7,#0       ;ADDED RESULT FOR E
                                                            ACH BYTE
   22 0000002C F106 0601       ADD              R6,R6,#+1   ;SET THE ELEMENTS
   23 00000030 F101 0101       ADD              R1,R1,#+1
   24 00000034 2910            CMP              R1,#16
   25 00000036 D03A            BEQ              NEWLINE
   26 00000038         ;COPIES FIRST ELEMENT TO THE R7
   27 00000038         ;FOR PROCESSING AND ADDS +1 TO THE
   28 00000038         ;ARRAY START POINTER - POST INDEXED
   29 00000038         
   30 00000038 F8D6 A000       LDR              R10,[R6]
   31 0000003C EB07 078A       ADD              R7,R10,LSL#2 ;WEIGHT 4 FOR CURR
                                                            ENT ELEMNET
   32 00000040 F04F 0A00       MOV              R10,#0
   33 00000044         
   34 00000044 F856 AC12       LDR              R10,[R6,#-18]
   35 00000048 4457            ADD              R7,R7,R10   ;WEIGHT 1 FOR DIAGN
                                                            OAL ELEMENT (UPPER 
                                                            LEFT)
   36 0000004A         
   37 0000004A F856 AC10       LDR              R10,[R6,#-16]
   38 0000004E 4457            ADD              R7,R7,R10   ;WEIGHT 1 FOR DIAGN
                                                            OAL ELEMENT (UPPER 
                                                            RIGHT)
   39 00000050         
   40 00000050 F8D6 A010       LDR              R10,[R6,#+16]
   41 00000054 4457            ADD              R7,R7,R10   ;WEIGHT 1 FOR DIAGN
                                                            OAL ELEMENT (LOWER 



ARM Macro Assembler    Page 2 


                                                            LEFT)
   42 00000056         
   43 00000056 F8D6 A012       LDR              R10,[R6,#+18]
   44 0000005A 4457            ADD              R7,R7,R10   ;WEIGHT 1 FOR DIAGN
                                                            OAL ELEMENT (LOWER 
                                                            RIGHT)
   45 0000005C         
   46 0000005C         
   47 0000005C F856 9C11       LDR              R9,[R6,#-17]
   48 00000060 46C8            MOV              R8,R9
   49 00000062 EB07 0748       ADD              R7,R8,LSL#1 ;WEIGHT 2 FOR ABOVE
                                                             ELEMENT
   50 00000066 F04F 0800       MOV              R8,#0
   51 0000006A F04F 0900       MOV              R9,#0
   52 0000006E         
   53 0000006E F856 9C01       LDR              R9,[R6,#-1]
   54 00000072 46C8            MOV              R8,R9
   55 00000074 EB07 0748       ADD              R7,R8,LSL#1 ;WEIGHT 2 FOR LEFT 
                                                            ELEMENT
   56 00000078 F04F 0800       MOV              R8,#0
   57 0000007C F04F 0900       MOV              R9,#0
   58 00000080         
   59 00000080 F8D6 9001       LDR              R9,[R6,#+1]
   60 00000084 46C8            MOV              R8,R9
   61 00000086 EB07 0748       ADD              R7,R8,LSL#1 ;WEIGHT 2 FOR RIGHT
                                                             ELEMENT
   62 0000008A F04F 0800       MOV              R8,#0
   63 0000008E F04F 0900       MOV              R9,#0
   64 00000092         
   65 00000092 F8D6 9011       LDR              R9,[R6,#+17]
   66 00000096 46C8            MOV              R8,R9
   67 00000098 EB07 0748       ADD              R7,R8,LSL#1 ;WEIGHT 2 FOR BELOW
                                                             ELEMENT
   68 0000009C F04F 0800       MOV              R8,#0
   69 000000A0 F04F 0900       MOV              R9,#0
   70 000000A4         
   71 000000A4 EA4F 1727       MOV              R7,R7,ASR#4
   72 000000A8 F845 7B01       STR              R7,[R5],#+1 ;STORE THE AVERAGE 
                                                            PIXEL ON THE STACK 
                                                            POINTER AND INCREME
                                                            NT SP
   73 000000AC         
   74 000000AC         
   75 000000AC E7B7            B                LOOP        ;BRANCH TO LOOP
   76 000000AE         
   77 000000AE F04F 0100 
                       NEWLINE MOV              R1,#0       ;RESET THE COLUMN C
                                                            OUNTER
   78 000000B2 F106 0601       ADD              R6,R6,#+1   ;SET THE NEW LINE A
                                                            DDRESS
   79 000000B6 E7B2            B                LOOP
   80 000000B8         
   81 000000B8         
   82 000000B8 E7FE    EOF     B                EOF         ;END OF ALGORITHM  
                                                            
   83 000000BA         
   84 000000BA 00 00 00000000 
              00000000 
              00000000 



ARM Macro Assembler    Page 3 


              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 LINE0   DCD              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0 
                                                            ;ZERO BLOCK
   85 00000100 00000000 
              00000077 
              00000063 
              0000006F 
              0000008D 
              0000002B 
              00000000 
              0000000C 
              00000007 
              00000000 
              0000000A 
              00000010 
              0000000F 
              00000021 
              00000021 
              0000001F 
              00000000 LINE1   DCD              0,119,99,111,141,43,0,12,7,0,10
,16,15,33,33,31,0
   86 00000144 00000000 
              00000060 
              0000005D 
              0000006C 
              00000070 
              00000086 
              0000003A 
              00000002 
              00000000 
              00000009 
              00000000 
              00000000 
              0000000E 
              00000018 
              00000016 
              00000016 
              00000000 LINE2   DCD              0,96,93,108,112,134,58,2,0,9,0,
0,14,24,22,22,0
   87 00000188 00000000 
              0000006E 
              00000067 
              00000067 
              0000006A 
              0000007B 
              00000078 



ARM Macro Assembler    Page 4 


              0000003B 
              00000008 
              00000000 
              00000000 
              00000000 
              00000003 
              00000009 
              0000000C 
              0000000F 
              00000000 LINE3   DCD              0,110,103,103,106,123,120,59,8,
0,0,0,3,9,12,15,0
   88 000001CC 00000000 
              00000065 
              00000082 
              0000006F 
              00000060 
              00000065 
              0000007A 
              0000007D 
              00000046 
              0000000A 
              00000003 
              00000002 
              00000000 
              00000005 
              00000004 
              00000009 
              00000000 LINE4   DCD              0,101,130,111,96,101,122,125,70
,10,3,2,0,5,4,9,0
   89 00000210 00000000 
              0000007F 
              00000067 
              00000065 
              0000006D 
              0000006C 
              00000072 
              0000007B 
              0000007C 
              0000004C 
              00000005 
              00000000 
              00000004 
              0000000A 
              00000000 
              00000007 
              00000000 LINE5   DCD              0,127,103,101,109,108,114,123,1
24,76,5,0,4,10,0,7,0
   90 00000254 00000000 
              00000071 
              00000076 
              00000077 
              00000072 
              0000006D 
              00000077 
              00000070 
              00000074 
              00000087 
              00000070 
              0000001A 



ARM Macro Assembler    Page 5 


              00000000 
              0000000D 
              00000000 
              00000003 
              00000000 LINE6   DCD              0,113,118,119,114,109,119,112,1
16,135,112,26,0,13,0,3,0
   91 00000298 00000000 
              0000006F 
              00000074 
              00000076 
              00000072 
              0000006E 
              00000070 
              00000079 
              00000066 
              0000006E 
              0000008E 
              0000006A 
              0000001A 
              00000000 
              0000000A 
              00000000 
              00000000 LINE7   DCD              0,111,116,118,114,110,112,121,1
02,110,142,106,26,0,10,0,0
   92 000002DC 00000000 
              0000006C 
              00000071 
              00000074 
              00000073 
              00000070 
              00000080 
              00000060 
              00000075 
              0000007C 
              00000065 
              00000081 
              00000076 
              00000017 
              00000000 
              00000011 
              00000000 LINE8   DCD              0,108,113,116,115,112,128,96,11
7,124,101,129,118,23,0,17,0
   93 00000320 00000000 
              0000006B 
              0000006F 
              00000073 
              00000073 
              00000072 
              00000074 
              00000077 
              0000007D 
              00000072 
              00000061 
              0000006D 
              0000007B 
              00000074 
              0000002B 
              0000000A 
              00000000 LINE9   DCD              0,107,111,115,115,114,116,119,1



ARM Macro Assembler    Page 6 


25,114,97,109,123,116,43,10,0
   94 00000364 00000000 
              0000006C 
              0000006E 
              00000072 
              00000073 
              00000073 
              00000071 
              00000077 
              00000074 
              00000074 
              00000077 
              0000006E 
              00000071 
              00000088 
              00000086 
              00000038 
              00000000 LINE10  DCD              0,108,110,114,115,115,113,119,1
16,116,119,110,113,136,134,56,0
   95 000003A8 00000000 
              0000006F 
              0000006E 
              00000071 
              00000073 
              00000074 
              0000007C 
              0000006C 
              00000070 
              00000078 
              00000073 
              00000078 
              0000007C 
              00000070 
              0000008B 
              0000008E 
              00000000 LINE11  DCD              0,111,110,113,115,116,124,108,1
12,120,115,120,124,112,139,142,0
   96 000003EC 00000000 
              00000073 
              0000006F 
              00000071 
              00000073 
              00000074 
              0000006E 
              0000008B 
              00000072 
              0000005E 
              0000007C 
              0000007A 
              00000068 
              0000007B 
              00000072 
              00000084 
              00000000 LINE12  DCD              0,115,111,113,115,116,110,139,1
14,94,124,122,104,123,114,132,0
   97 00000430 00000000 
              00000076 
              00000070 
              00000071 



ARM Macro Assembler    Page 7 


              00000073 
              00000074 
              00000077 
              00000074 
              0000007D 
              00000078 
              00000067 
              00000072 
              0000007E 
              0000006E 
              00000065 
              0000006E 
              00000000 LINE13  DCD              0,118,112,113,115,116,119,116,1
25,120,103,114,126,110,101,110,0
   98 00000474 00000000 
              00000076 
              00000071 
              0000005B 
              00000075 
              00000067 
              00000071 
              00000071 
              00000071 
              00000072 
              00000073 
              00000074 
              00000074 
              00000075 
              00000069 
              00000068 
              00000000 LINE14  DCD              0,118,113,91,117,103,113,113,11
3,114,115,116,116,117,105,104,0
   99 000004B8 00000000 
              0000007C 
              00000075 
              0000005E 
              00000075 
              00000067 
              00000070 
              00000071 
              00000071 
              00000072 
              00000073 
              00000074 
              00000074 
              00000074 
              0000007A 
              0000006C 
              00000000 LINE15  DCD              0,124,117,94,117,103,112,113,11
3,114,115,116,116,116,122,108,0
  100 000004FC 00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 



ARM Macro Assembler    Page 8 


              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 
              00000000 LINE16  DCD              0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
,0 
                                                            ;ZERO BLOCK
  101 00000540         
  102 00000540                 END
Command Line: --debug --xref --cpu=Cortex-M4.fp --apcs=interwork --depend=.\alg
orithm_assembly.d -o.\algorithm_assembly.o -IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM
\CMSIS\Include -IC:\Keil\ARM\Inc\ST\STM32F4xx --predefine="__EVAL SETA 1" --lis
t=.\algorithm_assembly.lst algorithm_assembly.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

EOF 000000B8

Symbol: EOF
   Definitions
      At line 82 in file algorithm_assembly.s
   Uses
      At line 20 in file algorithm_assembly.s
      At line 82 in file algorithm_assembly.s

LINE0 000000BC

Symbol: LINE0
   Definitions
      At line 84 in file algorithm_assembly.s
   Uses
      None
Comment: LINE0 unused
LINE1 00000100

Symbol: LINE1
   Definitions
      At line 85 in file algorithm_assembly.s
   Uses
      At line 13 in file algorithm_assembly.s
Comment: LINE1 used once
LINE10 00000364

Symbol: LINE10
   Definitions
      At line 94 in file algorithm_assembly.s
   Uses
      None
Comment: LINE10 unused
LINE11 000003A8

Symbol: LINE11
   Definitions
      At line 95 in file algorithm_assembly.s
   Uses
      None
Comment: LINE11 unused
LINE12 000003EC

Symbol: LINE12
   Definitions
      At line 96 in file algorithm_assembly.s
   Uses
      None
Comment: LINE12 unused
LINE13 00000430

Symbol: LINE13
   Definitions
      At line 97 in file algorithm_assembly.s
   Uses
      None
Comment: LINE13 unused
LINE14 00000474




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Symbol: LINE14
   Definitions
      At line 98 in file algorithm_assembly.s
   Uses
      None
Comment: LINE14 unused
LINE15 000004B8

Symbol: LINE15
   Definitions
      At line 99 in file algorithm_assembly.s
   Uses
      None
Comment: LINE15 unused
LINE16 000004FC

Symbol: LINE16
   Definitions
      At line 100 in file algorithm_assembly.s
   Uses
      None
Comment: LINE16 unused
LINE2 00000144

Symbol: LINE2
   Definitions
      At line 86 in file algorithm_assembly.s
   Uses
      None
Comment: LINE2 unused
LINE3 00000188

Symbol: LINE3
   Definitions
      At line 87 in file algorithm_assembly.s
   Uses
      None
Comment: LINE3 unused
LINE4 000001CC

Symbol: LINE4
   Definitions
      At line 88 in file algorithm_assembly.s
   Uses
      None
Comment: LINE4 unused
LINE5 00000210

Symbol: LINE5
   Definitions
      At line 89 in file algorithm_assembly.s
   Uses
      None
Comment: LINE5 unused
LINE6 00000254

Symbol: LINE6
   Definitions
      At line 90 in file algorithm_assembly.s



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Relocatable symbols

   Uses
      None
Comment: LINE6 unused
LINE7 00000298

Symbol: LINE7
   Definitions
      At line 91 in file algorithm_assembly.s
   Uses
      None
Comment: LINE7 unused
LINE8 000002DC

Symbol: LINE8
   Definitions
      At line 92 in file algorithm_assembly.s
   Uses
      None
Comment: LINE8 unused
LINE9 00000320

Symbol: LINE9
   Definitions
      At line 93 in file algorithm_assembly.s
   Uses
      None
Comment: LINE9 unused
LOOP 0000001E

Symbol: LOOP
   Definitions
      At line 18 in file algorithm_assembly.s
   Uses
      At line 75 in file algorithm_assembly.s
      At line 79 in file algorithm_assembly.s

MAIN 00000000

Symbol: MAIN
   Definitions
      At line 7 in file algorithm_assembly.s
   Uses
      At line 3 in file algorithm_assembly.s
Comment: MAIN used once
NEWLINE 000000AE

Symbol: NEWLINE
   Definitions
      At line 77 in file algorithm_assembly.s
   Uses
      At line 25 in file algorithm_assembly.s
Comment: NEWLINE used once
project 00000000

Symbol: project
   Definitions
      At line 1 in file algorithm_assembly.s
   Uses
      None



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
Relocatable symbols

Comment: project unused
22 symbols
354 symbols in table
